---
const { project, num } = Astro.props


function getDifficulty(difficulty: string): string {
  if (difficulty === "easy") {
    return "bg-green-50 text-green-700 ring-1 ring-green-600/20 ring-inset";
  } else if(difficulty === "medium"){
    return "bg-yellow-50 text-yellow-800 ring-1 ring-yellow-600/20 ring-inset"
  }
  else {
    return "bg-red-50 text-red-700 ring-1 ring-red-600/10 ring-inset";
  }
}

---

<article
  class="group relative overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm transition-all duration-300 hover:shadow-md hover:-translate-y-1.5 flex flex-col h-full">

  <div class="flex h-8 items-center gap-1.5 border-b border-gray-200 bg-gray-50 px-3">
    <div class="h-2.5 w-2.5 rounded-full bg-html"></div>
    <div class="h-2.5 w-2.5 rounded-full bg-javascript"></div>
    <div class="h-2.5 w-2.5 rounded-full bg-css"></div>
    <div class="ml-2 h-4 w-full max-w-[140px] rounded-sm bg-gray-200 text-xs"></div>
  </div>
  
  <div class="relative h-48 overflow-hidden bg-gray-100">
    <a href={`/${project.slug}`} target="_blank">
      <img
        src={`./projects/${num}.webp`}
        alt={`Captura de pantalla del proyecto ${project.title}`}
        class="object-cover transition-transform duration-500 group-hover:scale-105"
      />
    </a>
    

    <div class="absolute bottom-2 right-2 flex gap-1">
      {
        project.tech.map((tech: string) => (
          <div class={`flex px-2 py-1 items-center justify-center rounded bg-${tech} text-[10px] font-bold text-white`}>
            {tech}
          </div>          
        ))
      }
    </div>

      <div class="absolute top-2 left-2 flex gap-1">
          <div class={`flex px-2 py-1 items-center justify-center rounded ${getDifficulty(project.difficulty)} text-[10px] font-semibold capitalize`}>
            {project.difficulty}
          </div>          
    </div>
  </div>

  <div class="p-4 flex flex-col flex-grow">
    <h3 class="mb-2 text-lg font-semibold text-gray-900">{project.title}</h3>
    <p class="mb-4 text-sm text-gray-600 flex-grow">{project.description}</p>
    

    <div class="flex items-center justify-between mt-auto">
      <div class="text-xs text-gray-500">{project.date}</div>
      <div class="flex gap-2">
        <a 
          href={`https://github.com/HugoRomz/romz-frontend-fundamentals/tree/main/projects/${project.slug}`}
          target="_blank" 
          rel="noopener noreferrer"
          class="flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-700 transition-colors hover:bg-gray-200">
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
          </svg>
          <span class="sr-only">GitHub Repository</span>
        </a>
        <a 
          href={`/${project.slug}`}
          target="_blank" 
          rel="noopener noreferrer"
          class="flex h-8 w-8 items-center justify-center rounded-full bg-gray-100 text-gray-700 transition-colors hover:bg-gray-200">
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-external-link">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6" />
            <path d="M11 13l9 -9" />
            <path d="M15 4h5v5" />
          </svg>
          <span class="sr-only">Live Demo</span>
        </a>
      </div>
    </div>
  </div>
</article>